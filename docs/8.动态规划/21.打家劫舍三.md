# ğŸ¨ 21.æ‰“å®¶åŠ«èˆä¸‰

[é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/house-robber-iii/description/)

## ğŸ“ é¢˜ç›®æè¿°
* @url https://leetcode.cn/problems/house-robber-iii/description/

## ğŸ“ˆ ä»£ç å®ç°
```typescript
/**
 * @url https://leetcode.cn/problems/house-robber-iii/description/
 */
export {} // è¡¨æ˜æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œé˜²æ­¢tsæŠ¥é”™

// TODO:æ ‘å½¢dpï¼Œä¸æ•°ç»„çš„åŒºåˆ«æ˜¯å®šä¹‰æ¯ä¸ªèŠ‚ç‚¹çš„ä¸€ä¸ªçŠ¶æ€
class TreeNode {
    val: number
    left: TreeNode | null
    right: TreeNode | null
    constructor(val?: number, left?: TreeNode | null, right?: TreeNode | null) {
        this.val = val === undefined ? 0 : val
        this.left = left === undefined ? null : left
        this.right = right === undefined ? null : right
    }
}

// dp[0]è¡¨ç¤ºå½“å‰èŠ‚ç‚¹æœªå· dp[1]è¡¨ç¤ºå½“å‰èŠ‚ç‚¹å·²ç»è¢«å·
// function rob(root: TreeNode | null): number {
//     const traverse = (root: TreeNode | null): Array<number> => {
//         const dp: number[] = new Array(2).fill(0)

//         if (!root) return dp.concat([])
//         if (!root.left && !root.right) {
//             dp[1] = root.val
//             return dp.concat()
//         }
//         // èŠ‚ç‚¹è¢«å·
//         dp[1] = root.val + traverse(root.left)[0] + traverse(root.right)[0]

//         // èŠ‚ç‚¹æœªè¢«å·ï¼Œä½†ä¹Ÿä¸ä¸€å®šæ˜¯ä¼šå»å­èŠ‚ç‚¹çš„æœ€å¤§å€¼å‘€ï¼ï¼ï¼ï¼
//         dp[0] = traverse(root.left)[1] + traverse(root.right)[1]

//         return dp.concat([])
//     }

//     return Math.max(...traverse(root))
// }

function rob(root: TreeNode | null): number {
    const traverse = (root: TreeNode | null): Array<number> => {
        const dp: number[] = new Array(2).fill(0)

        if (!root) return dp.concat([])
        if (!root.left && !root.right) {
            dp[1] = root.val
            return dp.concat()
        }

        // ååºéå†
        const left = traverse(root.left)
        const right = traverse(root.right)

        // èŠ‚ç‚¹è¢«å·
        dp[1] = root.val + left[0] + right[0]

        // èŠ‚ç‚¹æœªè¢«å·ï¼Œä½†ä¹Ÿä¸ä¸€å®šæ˜¯ä¼šå»å­èŠ‚ç‚¹çš„æœ€å¤§å€¼å‘€ï¼ï¼ï¼ï¼
        dp[0] = Math.max(...left) + Math.max(...right)

        return dp.concat([])
    }

    return Math.max(...traverse(root))
}

```
