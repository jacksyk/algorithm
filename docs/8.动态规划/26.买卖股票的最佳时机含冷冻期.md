# ðŸ“š 26.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«å†·å†»æœŸ

## ðŸ’» ä»£ç å®žçŽ°
```typescript
/**
 * @url https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/description/
 */

// dp[i][0]è¡¨ç¤ºç¬¬iå¤©æ‰‹ä¸Šæœ‰è‚¡ç¥¨æ—¶å€™çš„èƒ½å¤ŸèŽ·å–çš„æœ€å¤§åˆ©æ¶¦
// dp[i][1]è¡¨ç¤ºç¬¬iå¤©æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨æ—¶å€™çš„èƒ½å¤ŸèŽ·å–çš„æœ€å¤§åˆ©æ¶¦
// dp[i][2]è¡¨ç¤ºç¬¬iå¤©å¤„äºŽå†·å†»æœŸçš„æ—¶å€™çš„æœ€å¤§åˆ©æ¶¦

// çŠ¶æ€è¿˜æ˜¯æ²¡è€ƒè™‘å…¨
// function maxProfit(prices: number[]): number {
//     const dp = new Array(prices.length).fill(0).map((_item) => new Array(3).fill(0))
//     dp[0][0] = -prices[0]
//     dp[0][1] = 0
//     dp[0][0] = 0

//     for (let i = 1; i < prices.length; i++) {
//         dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] - prices[i], dp[i - 1][2] - prices[i])
//         dp[i][1] = Math.max(dp[i - 1][1], dp[i - 1][0] + prices[i], dp[i - 1][2])
//         dp[i][2] = Math.max(dp[i - 1][0] + prices[i], dp[i - 1][2])
//     }
//     return Math.max(...dp[prices.length - 1])
// }

// TODO:å†æ¥åšä¸€é
// notice:å…³é”®ç‚¹ï¼šä¸æŒæœ‰è‚¡ç¥¨çš„çŠ¶æ€æ‹†åˆ†å‡ºæ¥
// åˆå§‹åŒ–å¦‚æžœéžæ³•çš„è¯ï¼Œå¯ä»¥ä»Žé€’æŽ¨å…¬å¼æ¥çœ‹å…·ä½“åˆå§‹åŒ–å¤šå°‘
// dp[i][0]è¡¨ç¤ºæŒæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ dp[i-1][0],dp[i-1][2]-price[i],dp[i-1][3]-price[i]
// Note:å¤‡æ³¨ä¸€ä¸‹ dp[i-1][3]-price[i]è¡¨ç¤ºå‰ä¸€å¤©æ˜¯å†·å†»æœŸï¼Œç„¶åŽä»Šå¤©ä¹°å…¥è‚¡ç¥¨
// dp[i][1]è¡¨ç¤ºä»Šå¤©å–å‡ºè‚¡ç¥¨ï¼Œä¸‹ä¸€å¤©æ˜¯å†·å†»æœŸ dp[i-1][0]+price[i]
// dp[i][2]è¡¨ç¤ºå†·å†»æœŸä¹‹åŽä¿æŒå–å‡ºçš„çŠ¶æ€ dp[i-1][2],dp[i-1][3]
// dp[i][3]è¡¨ç¤ºå†·å†»æœŸçš„çŠ¶æ€ dp[i-1][1]
function maxProfit(prices: number[]): number {
  const dp = new Array(prices.length).fill(0).map((_v) => new Array(4).fill(0));
  dp[0][0] = -prices[0];
  dp[0][1] = 0;
  dp[0][2] = 0;
  dp[0][3] = 0;
  for (let i = 1; i < prices.length; i++) {
    dp[i][0] = Math.max(
      dp[i - 1][0],
      dp[i - 1][2] - prices[i],
      dp[i - 1][3] - prices[i]
    );
    dp[i][1] = dp[i - 1][0] + prices[i];
    dp[i][2] = Math.max(dp[i - 1][2], dp[i - 1][3]);
    dp[i][3] = dp[i - 1][1];
  }
  return Math.max(...dp[prices.length - 1]);
}

// è¿™é‡Œå¦‚æžœè¦åšç©ºé—´ä¼˜åŒ–ï¼Œéœ€è¦åŽ»åšèµ‹å€¼é¡ºåºçš„è°ƒæ•´

```
