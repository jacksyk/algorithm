# ğŸ¯ 2.æ‘†åŠ¨åºåˆ—

[é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/wiggle-subsequence/description/)

## ğŸ“ˆ é¢˜ç›®æè¿°
* @url https://leetcode.cn/problems/wiggle-subsequence/description/

## ğŸ“„ ä»£ç å®ç°
```typescript
/**
 * @url https://leetcode.cn/problems/wiggle-subsequence/description/
 */
// nums = [1,7,4,9,2,5]
// è¾“å‡ºï¼š6
// è§£é‡Šï¼šæ•´ä¸ªåºåˆ—å‡ä¸ºæ‘†åŠ¨åºåˆ—ï¼Œå„å…ƒç´ ä¹‹é—´çš„å·®å€¼ä¸º (6, -3, 5, -7, 3) ã€‚

// dp[i]è¡¨ç¤ºä»¥nums[i]ä¸ºç»“å°¾çš„æ‘†åŠ¨åºåˆ—çš„é•¿åº¦
// nums[i]-nums[i-1]>0  åˆ¤æ–­nums[i-1]-nums[i-2]<0 åä¹‹  dp[i] = dp[i-1]+1  dp[i] = dp[i-1]
// notice:è¿˜æ˜¯çŠ¶æ€è€ƒè™‘é”™äº†ï¼Œè¿™æ ·å¹¶æ²¡æœ‰è€ƒè™‘å‰é¢æ˜¯å±±å³°è¿˜æ˜¯å±±è°·   25/31
// function wiggleMaxLength(nums: number[]): number {
//     const dp = new Array(nums.length).fill(0)
//     if (nums.length < 2) {
//         return 1
//     }
//     dp[0] = 1
//     dp[1] = nums[1] === nums[0] ? 1 : 2
//     if ((dp[1] - dp[0] > 0 && dp[2] - dp[1] < 0) || (dp[1] - dp[0] < 0 && dp[2] - dp[1] > 0)) {
//         dp[2] = 3
//     }
//     for (let i = 2; i < nums.length; i++) {
//         if (
//             (nums[i] - nums[i - 1] > 0 && nums[i - 1] - nums[i - 2] < 0) ||
//             (nums[i] - nums[i - 1] < 0 && nums[i - 1] - nums[i - 2] > 0)
//         ) {
//             dp[i] = dp[i - 1] + 1
//         } else {
//             dp[i] = dp[i - 1]
//         }
//     }
//     console.table(dp)
//     return Math.max(...dp)
// }
// wiggleMaxLength([84])

// TODO:åŠ¨æ€è§„åˆ’æ€è·¯2
// PS: åŠ¨æ€è§„åˆ’è¿™é‡Œåšä¼šæ¯”è¾ƒå¥½ç†è§£
// dp[i][0] = max(dp[i][0], dp[j][1] + 1)ï¼Œå…¶ä¸­0 < j < iä¸”nums[j] < nums[i]ï¼Œè¡¨ç¤ºå°† nums[i]æ¥åˆ°å‰é¢æŸä¸ªå±±è°·åé¢ï¼Œä½œä¸ºå±±å³°ã€‚
// dp[i][1] = max(dp[i][1], dp[j][0] + 1)ï¼Œå…¶ä¸­0 < j < iä¸”nums[j] > nums[i]ï¼Œè¡¨ç¤ºå°† nums[i]æ¥åˆ°å‰é¢æŸä¸ªå±±å³°åé¢ï¼Œä½œä¸ºå±±è°·ã€‚
function wiggleMaxLength(nums: number[]): number {
  const dp = new Array(nums.length).fill(0).map((_v) => new Array(2).fill(0));
  dp[0][0] = 1;
  dp[0][1] = 1;
  for (let i = 1; i < nums.length; i++) {
    // è¿™é‡Œçš„åˆå§‹åŒ–ï¼šä¸¤ä¸ªæ•°ç›¸ç­‰ï¼Œç®—æ˜¯ä¸€ä¸ªæ•°çš„æƒ…å†µçš„æ‘†åŠ¨åºåˆ—
    dp[i][0] = 1;
    dp[i][1] = 1;
    for (let j = 0; j < i; j++) {
      if (nums[i] - nums[j] > 0) {
        // å‰é¢åº”è¯¥æ˜¯è°·åº•
        dp[i][1] = Math.max(dp[j][0] + 1, dp[i][1]);
      } else if (nums[i] - nums[j] < 0) {
        dp[i][0] = Math.max(dp[j][1] + 1, dp[i][0]);
      }
    }
  }
  return Math.max(...dp[nums.length - 1]);
}

```
