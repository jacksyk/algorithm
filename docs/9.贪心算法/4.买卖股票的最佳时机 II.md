# ğŸ¨ 4.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II

[é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/description/)

## ğŸ“ˆ é¢˜ç›®æè¿°
* @url https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/description/

## ğŸ“‹ ä»£ç å®ç°
```typescript
/**
 * @url https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/description/
 */

// åŠ¨æ€è§„åˆ’
// dp[i][0]è¡¨ç¤ºç¬¬iå¤©æ‰‹ä¸Šæœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ dp[i][0] = dp[i-1][1]-nums[i] dp[i][0]
// dp[i][1]è¡¨ç¤ºç¬¬iå¤©æ‰‹ä¸Šæ²¡æœ‰è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ dp[i][1] = dp[i-1][0]+nums[i] dp[i-1][1]
// function maxProfit(prices: number[]): number {
//     const dp = new Array(prices.length + 1).fill(0).map((_v) => new Array(2).fill(0))
//     dp[0][0] = -prices[0] // TODO:æ¢äº†ä¸‹æ ‡ï¼Œè¿™é‡Œçš„åˆå§‹åŒ–è¿˜æ˜¯éœ€è¦æ”¹å˜
//     for (let i = 1; i <= prices.length; i++) {
//         dp[i][0] = Math.max(dp[i - 1][1] - prices[i - 1], dp[i - 1][0])
//         dp[i][1] = Math.max(dp[i - 1][0] + prices[i - 1], dp[i - 1][1])
//     }
//     console.table(dp)
//     return dp[prices.length][1]
// }
// console.log(maxProfit([7, 1, 5, 3, 6, 4]))
// è´ªå¿ƒç®—æ³•
function maxProfit(prices: number[]): number {
  // è®¡ç®—æ•°ç»„ä¸­çš„é—´éš”
  const init = (arr: number[]) => {
    const temp: number[] = [];
    for (let i = 1; i < arr.length; i++) {
      temp.push(arr[i] - arr[i - 1]);
    }
    return temp;
  };
  const intervalArray = init(prices);
  return intervalArray.reduce((acc, cur) => {
    if (cur >= 0) {
      return acc + cur;
    }
    return acc;
  }, 0);
}

```
