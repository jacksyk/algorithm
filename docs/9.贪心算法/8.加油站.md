# ğŸ³ 8.åŠ æ²¹ç«™

[é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/gas-station/description/)

## ğŸ“ƒ é¢˜ç›®æè¿°
* @url https://leetcode.cn/problems/gas-station/description/

## ğŸ“ˆ ä»£ç å®ç°
```typescript
/**
 * @url https://leetcode.cn/problems/gas-station/description/
 */

// -2 -2  -2 3 3
// noticeï¼šè€ƒè™‘é”™äº†,å¹¶ä¸æ˜¯ä»å‰©ä½™ä¸­æœ€å¤§çš„å‡ºå»å°±æ˜¯å¥½çš„
// function canCompleteCircuit(gas: number[], cost: number[]): number {
//     const arr: number[] = [] // è¡¨ç¤ºarr[i]å‰å¾€i+1ç«™å‰©ä½™çš„é‚®è´¹
//     for (let i = 0; i < gas.length; i++) {
//         arr.push(gas[i] - cost[i])
//     }
//     console.log(arr)
//     let maxIndex = arr.indexOf(Math.max(...arr))
//     let curIndex = maxIndex
//     let count = 0,
//         curNum = 0
//     while (count < gas.length) {
//         count++
//         curNum += arr[curIndex % gas.length]
//         console.log(count, gas.length, "cur")

//         if (curNum <= 0 && count !== gas.length) {
//             return -1
//         }
//         curIndex++
//     }

//     return maxIndex
// }
// console.log(canCompleteCircuit([5, 8, 2, 8], [6, 5, 6, 6]))

// TODO:æš´åŠ›è§£æ³•,è¶…æ—¶äº†ã€‚æŠ€å·§ï¼šç¯å½¢é“¾è¡¨ç”¨whileæ¥éå†æ¯”è¾ƒå¥½
// function canCompleteCircuit(gas: number[], cost: number[]): number {
//     const arr: number[] = [] // è¡¨ç¤ºarr[i]å‰å¾€i+1ç«™å‰©ä½™çš„é‚®è´¹
//     let result = -1
//     for (let i = 0; i < gas.length; i++) {
//         arr.push(gas[i] - cost[i])
//     }
//     for (let i = 0; i < gas.length; i++) {
//         let curIndex = i,
//             count = gas.length,
//             res = 0,
//             isPass = true
//         while (count--) {
//             res += arr[curIndex++ % gas.length]
//             if (res < 0) {
//                 isPass = false
//                 break
//             }
//         }
//         if (isPass) {
//             result = curIndex % gas.length
//             break
//         }
//     }
//     return result
// }

// *è´ªå¿ƒ:æ€»æ•°åªè¦å¤§äº0ä¸€å®šå°±å¯ä»¥èµ°å®Œï¼Œçœ‹çœ‹ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹å°äº0ï¼Œç„¶åæ›´æ–°èµ·å§‹çš„ä¸‹æ ‡ç´¢å¼•ã€‚
function canCompleteCircuit(gas: number[], cost: number[]): number {
  const arr: number[] = []; // è¡¨ç¤ºarr[i]å‰å¾€i+1ç«™å‰©ä½™çš„é‚®è´¹
  for (let i = 0; i < gas.length; i++) {
    arr.push(gas[i] - cost[i]);
  }
  let startIndex = 0,
    totalSum = 0,
    curSum = 0;
  for (let i = 0; i < gas.length; i++) {
    curSum += arr[i];
    totalSum += arr[i];
    if (curSum < 0) {
      startIndex = i + 1;
      curSum = 0;
    }
  }
  if (totalSum < 0) return -1;
  return startIndex;
}

```
