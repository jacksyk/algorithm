# ğŸ“š 4.æ¥é›¨æ°´

## ğŸ’» ä»£ç å®ç°
```typescript
// @ts-nocheck
/**
 * @url https://leetcode.cn/problems/trapping-rain-water/description/
 */
/**
 * @param {number[]} height
 * @return {number}
 */
var trap = function (height) {
  const stack = []; // ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å¢çš„åºåˆ—
  let res = 0; // è¡¨ç¤ºç»“æœ
  for (let i = 0; i < height.length; i++) {
    if (!stack.length) {
      stack.push(i);
    } else {
      while (stack.length && height[i] > height[stack[stack.length - 1]]) {
        const mid = height[stack.pop()];
        if (stack.length) {
          const leftIdx = stack[stack.length - 1];
          const leftVal = height[leftIdx];
          const rightVal = height[i];
          res += (i - leftIdx - 1) * (Math.min(leftVal, rightVal) - mid);
        }
      }
      stack.push(i); // ç†è§£ä¸ºè®¡ç®—ä»¥å½“å‰å…ƒç´ ä¸ºåº•çš„æƒ…å†µ
    }
  }
  return res;
};

```
