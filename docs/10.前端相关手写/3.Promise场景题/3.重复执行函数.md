# ðŸ“š 3.é‡å¤æ‰§è¡Œå‡½æ•°

## ðŸ’» ä»£ç å®žçŽ°
```typescript
// åŸºäºŽ tapable æ€æƒ³ï¼Œæž„é€ å¼‚æ­¥ä»»åŠ¡ä¸²
// https://juejin.cn/post/6844903700872298510
const repeat = (cb, delay = 1000, times = 5) => {
    /* é«˜é˜¶å‡½æ•° */
    return function (text) {
        const AsyncFn = () =>
            new Promise((resolve) => {
                setTimeout(() => {
                    cb(text)
                    resolve()
                }, delay)
            })

        // æž„å»ºå¼‚æ­¥ä»»åŠ¡ä¸²
        new Array(times).fill(AsyncFn).reduce((acc, cur) => {
            return acc.then(() => cur())
        }, Promise.resolve())
        // ps: polifillå¦‚ä¸‹
        // return Promise.resolve().then(() => AsyncFn()).then(() => AsyncFn()).then(() => AsyncFn()).then(() => AsyncFn())
    }
}

const mockLog = repeat(console.log)

mockLog("Hello world!!")

```
