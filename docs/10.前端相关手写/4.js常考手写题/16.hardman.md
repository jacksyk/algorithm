# ğŸ“š 16.hardman

## ğŸ’» ä»£ç å®ç°
```typescript
/**
 * @description è…¾è®¯çˆ±è€ƒé¢˜ç›®-æ¥è‡ªç‰›å®¢
 * @url https://juejin.cn/post/7406150677225898023
 */

// ps: å…³é”®è®¾è®¡æ€è·¯ï¼ˆé’ˆå¯¹äºrestFirstå‡½æ•°ï¼‰
// 1.ä»»åŠ¡é˜Ÿåˆ—æœºåˆ¶
// 2.åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡çš„æ–¹å¼ã€‚å¼‚æ­¥æ‰§è¡Œæ§åˆ¶

// å†™ä¸€ä¸ªhardManå‡½æ•°ï¼Œæ»¡è¶³æ§åˆ¶å°æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š
// ===============================================
// hardMan('æ½˜æ½˜')
//> Hi! I am æ½˜æ½˜.
// =============================================== 
// hardMan('æ½˜æ½˜').study('Project')
//> Hi! I am æ½˜æ½˜.
//> I am studying æ•²ç .
// ===============================================
// hardMan('æ½˜æ½˜').rest(3).study('æ•²ç ')
//> Hi! I am æ½˜æ½˜.
// æ­¤æ—¶ç­‰å¾…ä¸‰ç§’é’Ÿ
//> Wait 3 seconds.
//> I am studying æ•²ç .
// ===============================================
// hardMan('æ½˜æ½˜').restFirst(3).study('æ•²ç ')
// æ­¤æ—¶ç­‰å¾…ä¸‰ç§’é’Ÿ
//> Wait 3 seconds.
//> Hi! I am æ½˜æ½˜.
//> I am studying æ•²ç .
// ===============================================

async function sleep(seconds) {
    await new Promise(resolve => {
        setTimeout(() => {
            console.log(`Wait ${seconds} seconds.`);
            resolve()
        }, seconds * 1000);
    })
}


// å‡½æ•°å¼ç±»çš„å†™æ³•
function hardManClass(name) {
    this.task = []

    setTimeout(async () => {
        for (let tak of this.task) {
            await tak()
        }
    }, 0);


    this.task.push(() => {
        return new Promise(resolve => {
            console.log(`Hi! I am ${name}.`);
            resolve()
        })
    })

    this.study = function (studyName) {
        this.task.push(() => {
            return new Promise(resolve => {
                console.log(`I am studying ${studyName}.`);
                resolve()
            })
        })
        return this;
    }

    this.rest = function (time) {
        this.task.push(async () => {
            await sleep(time)
        })
        return this
    }

    this.restFirst = function (time) {
        this.task.unshift(async () => {
            await sleep(time)
        })
        return this
    }

    return this
}

function hardMan(name) {
    return new hardManClass(name)
}


// hardMan('æ½˜æ½˜')
// hardMan('æ½˜æ½˜').study('Project')
hardMan('æ½˜æ½˜').rest(3).study('æ•²ç ')
// hardMan('æ½˜æ½˜').restFirst(3).study('æ•²ç ')

```
